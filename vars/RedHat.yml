---
rke2_repo_name: "rancher-rke2"
rke2_repo_url:
  - { name: "rancher-rke2-common-stable", url: "http://rpm.rancher.io/rke2/stable/common/centos/$releasever/noarch" }
  - { name: "rancher-rke2-{{ rke2_version.split('.')[0] }}.{{ rke2_version.split('.')[1] }}", url: "http://rpm.rancher.io/rke2/stable/{{ rke2_version.split('.')[0] }}.{{ rke2_version.split('.')[1] }}/centos/$releasever/x86_64/" }

rke2_packages:
- { name: "ipvsadm" }
- { name: "iproute", create: '{{ ansible_distribution_major_version | int == 7 }}' }
- { name: "iproute-tc", create: '{{ ansible_distribution_major_version | int > 7 }}' }
- { name: "iscsi-initiator-utils" }
- { name: "nfs-utils" }
- { name: "rke2-server-{{ rke2_version }}~rke2r1-0.el{{ ansible_distribution_major_version | int }}", create: '{{ rke2_node_role | lower == "server" }}' }
- { name: "rke2-agent-{{ rke2_version }}~rke2r1-0.el{{ ansible_distribution_major_version | int }}", create: '{{ rke2_node_role | lower == "agent" }}' }
- { name: "rke2-selinux" }
